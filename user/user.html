<template x-if="accessToken && roomId">
  <div class="users-panel h-full w-[280px] bg-white border-l border-gray-200 flex flex-col p-4">

    <!-- Header -->
    <h2 class="text-lg font-bold mb-3">Users</h2>

    <!-- Members list -->
    <div class="flex-1 overflow-y-auto bg-gray-100 rounded-lg p-3 mb-4">
      <h3 class="text-sm font-semibold text-gray-700 mb-2">
        Учасники кімнати
      </h3>

      <template x-if="roomMembers.length === 0">
        <p class="text-xs text-gray-500">Завантаження...</p>
      </template>

      <ul class="text-xs space-y-1">
        <template x-for="member in roomMembers" :key="member.userId">
          <li class="flex items-center gap-1">
            <span class="font-medium" x-text="member.displayName || member.userId"></span>
            <span class="text-gray-500">
              (<span x-text="member.userId.split(':')[0].substring(1)"></span>)
            </span>
          </li>
        </template>
      </ul>
    </div>

    <!-- Invite user -->
    <div class="mb-3">
      <input
        x-model="inviteUser"
        placeholder="Invite user (e.g. @user:matrix.org)"
        class="border p-2 w-full rounded mb-1"
      >
      <button
        @click="inviteUserToRoom()"
        class="bg-purple-500 text-white p-2 w-full rounded hover:bg-purple-600 transition"
      >
        Invite
      </button>
    </div>

    <!-- Join room -->
    <div>
      <input
        x-model="joinRoomId"
        placeholder="Room ID (e.g. !roomid:matrix.org)"
        class="border p-2 w-full rounded mb-1"
      >
      <button
        @click="joinRoom()"
        class="bg-yellow-500 text-white p-2 w-full rounded hover:bg-yellow-600 transition"
      >
        Join Room
      </button>
    </div>

  </div>
</template>
